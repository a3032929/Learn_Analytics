---
title: "CSC8631 Report"
author: "Selina So"
date: "23/11/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = normalizePath('..'))
```

```{r ProjectTemplate, include=FALSE}
library(ProjectTemplate)
load.project()
```
# 1. Business Understanding

## 1.1 Business Objectives 

### 1.1.1 Background
Learning Analytics is a study of the "*measurement, collection, analysis and reporting of data about learners and their contexts, for purposes of understanding and optimising learning and the information system in which it occurs*(Shi, 2018)". The benefits of Learning Analytics is that it will provide insights to the factors which influences learners' retention. Learners' retention is one of the key drivers for institutes to implement Learning Analytics, as retaining students and their associated fees has a significant economical impact on the institutions' income (Xanthe Shacklock, 2016).  The insights from the Learning Analytics will enable course designers from educational institutes and MOOC (Massive open online course) providers to make informed decisions on the design and improvements of their courses, thus improving the learning environment for learners and drive more influx of learners enrolling. 

FutureLearn is an MOOC provider, which collaborates with universities globally to offer online courses. Since their launch in 2013, they have attracted over seven million learners across the world (www.futurelearn.com). With a global reach of this extent, it is therefore crucial for FutureLearn to understand their performance in engaging with learners and providing an enhanced learning experience, which will retain and improve the learners' retention rate. The insights derived from Learning Analytics will therefore enable FutureLearn to understand areas of design or improvements which could create a positive impact for FutureLearn, their collaborators and their learners, in addition, to understand the key factors that could influence the retaining of students. 

### 1.1.2 Business Objectives
This study will investigate the *Cyber Security Safety at Home, Online, in Life* online course, which is a course delivered by Newcastle University on the FutureLearn platform (https://www.futurelearn.com/courses/cyber-security). There are many factors which could influence the learners' retention rate. Data from activities, such as videos, could act as engagement indicators of the learners and potentially allow early detection of learners' disengagement (Bote-Lorenzo, Gomez-Sanchez, 2017). Therefore in this study we will examine the data from the *Cyber Security Safety at Home, Online, in Life* course to understand the factors which could influence the learners' retention rate. *Insights into the relationship of engagements across different continents. Is the course able to reach and retain a broad range of learners from across the world, from the material provided in the course. We aim to understand the areas which appear successful and areas that don't. With this insight, informed decisions could be made on areas where improvements could be made (reword)*.  


## 1.2 Assess situation 

The *Cyber Security Safety at Home, Online, in Life* course data is provided by FutureLearn (via Newcastle University). There are 53 csv data files, which provides information on the learners and the course. The remaining 7 pdf files provides an overview of the course structure. 

The course is divided into three weekly blocks of study. For each weekly block, there are a number of steps to complete. The first week block contains 18 steps, and the second and third week blocks contains 21 steps. (Shi, 2018, futurelearn site). The blocks consist of a combination of videos, articles, exercises, discussions, quizzes and tests for the learners to complete throughout the course.

The 53 csv data files are split into 7 runs. Each run represents different time-frames of when the data were collected throughout the course, between mid 2016 - mid 2018. All runs consists of the following datafiles: *'Archetype-survey-responses', 'Enrolments', 'Leaving-survey-responses', 'Question-response', 'Step-activity', 'Weekly-sentiment-survey-response, 'Team-members', 'Video-stats'*, with the exception of run 1 not containing the  *'Team-members', 'Video-stats'* datafiles, and run 2 not containing the *'Video-stats'* datafile.

### 1.2.1 Inventory of Resources 

The following sections will list the resources available to the project.

#### 1.2.1.1 Software Sources
- R
- RStudio
- Git

The use of these software sources are described below under *'1.2.2.1 Requirements'*.

#### 1.2.1.2 Sources of Data and Knowledge

- The CRISP-DM methodology (Cross-Industrie Standard Process for Data Mining) will be applied to structure the project life cycle (link the CRISP-DM guide). 

- 53 csv data files and 7 pdf files on the *Cyber Security Safety at Home, Online, in Life* course, provided by FutureLearn (via Newcastle University).

#### 1.2.1.3 Personnel Sources

The following personnel will be utilized for expert domain knowledge and technical support (as well as to provide stakeholder guidance from a business perspective - add?)

- Newcastle University lecturers (Dr Matthew Forshaw and Joe Matthews)  
- External teaching experts

### 1.2.2 Requirements, assumptions, and constraints 

#### 1.2.2.1 Requirements

Applying best programming practice is crucial for this project to enable reproducibility. Therefore the following software and packages will be implemented to apply best practice:

- R: used for all data analysis 
- RStudio: integrated development environment to develop report 
- ProjectTemplate: a R package to automate project file structure
- RMarkdown: a R package to produce the report
- ggplot2: a R package to produce data visualizations
- Git: will be used for version control

There are legal obligations and privacy policies, such as *GDPR (General Data Protection Regulation)* and the *Data Protection Act (2018)*, to consider before using the data. 

#### 1.2.2.2 Assumptions

The following assumptions have been made on the data:

- Assumed that full consent to use the data for this study has been provided by FutureLearn. To comply with the legal and ethical standards, we will ensure any identifying data observed will be anonymised to reduce the likelihood that an individual could be identified. 

- Assumed that although *'Video_stats'* data are not provided for run 1 and 2, this does not indicate that video learning material were not used for these runs. 

- As the data is provided by FutureLearn (via Newcastle University), it is assumed that the data provides an accurate and reliable reflection of the learners of the course.

- There were no descriptions for the data, therefore assumptions will be made as to what the data means.

#### 1.2.2.3 Constraints

The project is to be completed by 3rd December 2021. 

Due to the time constraints, the key phases from the CRISP-DM methodology which require focus are *Business Understanding*, *Data Understanding*, *Data Preparation* and *Evaluation*. (If time allows, then the *Modelling* phase will be included too - include?) *remove? this whole bit on crisp-dm*


## 1.3 Data Mining Goals 
For this study, we will investigate the course data and initially decide on a set of data to analyse in more detail to understand students' engagement with the online course. This set of data will be chosen according to (a) the richness of information contained in the data, and (b) the completeness of the data that is available. Based on this, the most promising lines of investigation will be decided. 

The goal is to derive insight from the data on engagement and retention during the course which will enable the Newcastle University and FutureLearn to potentially modify and improve the course content to achieve optimise learner engagement and retention. (This is achieved by identifying correlations between the factors and the learners????)


## 1.4 Project plan (Describe the intended plan for achieving the data mining goals and thereby achieving the business goals. The plan should specify the steps to be performed during the rest of the project, including the initial selection of tools and techniques.????)

We will utilize the CRISP-DM process to understand the data and ensuring that the insights meet the business objectives. We will perform initial investigation of the data (using a combination of simple descriptive statistical and visualization techniques??), identify potential trends to form hypotheses. Depending on the outcome of the previous phase, this shall initiate further in-depth analysis with the vision of providing better understanding and interesting insights for Newcastle University and FutureLearn.  

Throughout the course of the study and depending on the outcome of the results, certain phases of the CRISP-DM methodology will be re-iterated multiply times, to further support the previous findings. 

### 1.4.1 Initial assessment of tools and techniques (At the end of the first phase, an initial assessment of tools and techniques should be performed. assess tools and techniques early in the process since the selection of tools and techniques may influence the entire project.???)

The use of the CRISP-DM methodlogy is useful to provide structure to the lifecycle of this study and ensuring the analysis remains relevant to the business objective.

R was very useful in enabling the analysis of the data. In addition, the packages provided by R allow the project to be reproducible with minimal effort. The key package being ProjectTemplate, which can automatically build the directory to structure the project and the files, and can automatically load data and libraries.

Git is a useful software to ensure that all creations and changes are tracked. Therefore one can revert back to a specific version of the project or change if required.

*(Simple statistical description and visualisation of the data will provide insight into the nature and quality of available data, and will enable fast decisions on the next steps in the analysis.) include?? personnel??*


# 2. Data Understanding (Initial Observation)

## 2.1 Collect initial data 

The 53 csv data files of the *Cyber Security Safety at Home, Online, in Life* course data is provided by FutureLearn (via Newcastle University) and are loaded and cached in the *'data'* folder, as designed by the ProjectTemplate package.  

There are 7 runs of data. Each run of data were measured several months apart from each other, between mid 2016 - mid 2018. Below is a brief description of each set of data files *(and why they were discarded (e.g. too many missing data points; not clear what data means without further background information, hence not being used for further analysis))*. :

- *'Archetype-survey-responses'*: The data files consists of two sets of Id-related columns, a datetime column and a categorical column *'archetype'*. As no descriptions was provided, therefore it is difficult to deduce the real meaning of the archetype data without further information. In addition, the datafiles for runs 1 to 3 are either empty or incomplete.

- *'Enrolments'*: The data files contains information of learners' ID, enrollment and unenrollment datetime. In addition, categorical data on the gender, country, age, education and employment status and detected country. There are information on datetime of *'fully_participated_at'* and *'purchased_statement_at'*, however without further information it is unclear what these columns mean. There are many *'Unknown'* in the data files.

- *'Leaving-survey-responses'*: The data files contains information about learner ID, leaving date, and learners' feedback, which was given as what is assumed to be pre-set selection of feedback options. It contains information on the last step completed when response was provided, however are incomplete as many rows contain missing data. The datafiles for runs 1 to 3 are empty.

- *'Question-response'*: The data files contain information of the learners' ID and the quiz questions which the learners have attempted plus the submission date. There is a *'correct'* column containing boolean datatype of 'True/ False' which represents whether the learners have answered corrected. There is a *'response'* column which contains a selection of numerical values and a *'cloze_response'* which appears to be empty, therefore one cannot interpret what this column means. It is unclear whether the learners have to answer all questions correct, as there is more than 1 number in the *'response'* column, to obtain a 'True/ False' under the *'correct'* column. Therefore further information is required. 

- *'Step-activity'*: This data file contains information on the learner_id and the datetime of when they had first visit and last completed a particular step. There are missing data under the *'last_completed_at'* column.

- *'Weekly-sentiment-survey-response'*: the data files contain an ID column, with the datetime of the individuals' responses. It is unclear what does the IDs refer to as they do not specify that the column is for learners' ID, therefore more information is required. The *'reason'* column contains free text, which is interesting. However run 1 to 4 data files are empty, run 5 contains only 1 incomplete data and the remaining runs (6 and 7) contains a mixture of incomplete and unstructured text data for the free-text *'reason'* column.

- *'Team-members'* (not included in run 1): the data files contain Ids and the team role and user role of the individuals. The *'first_name'* and *'last_name'* columns have been anonymised to remove the names of the individuals. 

- *'Video-stats'* (not included in run 1 and 2): the data files contain information on the video topics, and numerical data on the number of viewers, devices and features used to view the videos, how long have individuals watched the videos and the percentage of viewers from different continents. 

### 2.1.1 Initial data file selection

The initial data file(s) of interest was(were) the *'Weekly-sentiment-survey-response'* data. These data would have been useful to combine with the data from the *'Leaving-survey-responses'* data files to potentially obtain a mixture of feedback which will provide constructive information for the course provider. The *'reason'* column was interesting as they contained free text therefore provided a direct source of feedback that could be analysed using Natural Language Processing (NLP). However, after closer observation, it appears that the data contained positively biased views of the individuals' experience with the course. The unstructured free text were also of poor quality as they contained incomplete sentences, single word feedback with lack of context and text that contains random symbols. In addition, there were many missing feedback data and due to only runs 6 and 7 containing a small selection of feedback, there is therefore insufficient data to draw substantial conclusions with the data. The *'Leaving-survey-responses'* data files also contains pre-selected responses, which indicates that the learners were only allowed to select from a very narrow range of opinions, therefore it does not provide meaningful insight into the sentiments of the learners. Lastly, the two sets of data files do not contain the same type of ID columns. The *'Leaving-survey-responses'* data files contained *'Learner_ID'*, which can be assumed that the responses were from the learners. The *'Weekly-sentiment-survey-response'* data files contained *'ID'*, which we cannot assume that the responses were from the learners only, as other data files (such as, the *'Team-members'* data files) have already shown that 'educators', 'mentors', etc all have an ID number assigned to each one of them. The responses could potentially come from individuals with conflicted interest with the course, therefore the responses will not be a reliable source of information to use to draw conclusions on the course. 

### 2.1.2 Final data file selection

As data from videos could act as engagement indicators, Newcastle University and FutureLearn could therefore utilize the video data to understand students' engagement with the course, and consequently the retention rate of the learners throughout the course. This will enable the course provider to make informed decisions on the design and improvements of the course. To achieve this, the focus will be on the '*video.stats*' data files provided by FutureLearn. These data sets are only available for 5 (out of 7) runs. Therefore runs 1 and 2 will not be considered in this study as no data are available. There appears to be no missing values from the data, therefore the data files for '*video.stats*' are very complete. 


## 2.2 Describe data 

Displaying below is the list of column names of the '*video.stats*'.

```{r video-stats 3, echo=FALSE}
names(run3)
```
There are 13 rows of data in each '*video.stats*' data file, one row corresponding to each video content throughout the course. 

There are 28 columns. The first column of each dataset describes the weekly block and the step position of where a particular video is located within the course. The second column contains strings of data which refers to the video title, therefore one can deduce the topic of the video. The remaining columns (columns 3 - 28) contain numerical data, of which some contains percentage values. Care will have to be taken when merging the runs together for the columns containing percentage values. The weighted average percentages will be calculated to account for the relative frequency of some factors in the dataset (reword!!), therefore the weighted average percentage will be more accurate than calculating the average percentage.

The dataset contains information on the video topics and the number of viewers. This will inform which topics appears to attract the most number of learners. One can also use the range of columns on the 'viewed_percentage', to deduct how the number of learners' engagement changes throughout the duration of the videos. Finally, from the percentage of viewers across the continents, we can observe how engaged the learners from different continents have been throughout the course. Therefore the data file satisfies the business objective requirements of the project.  

*The data surrounding the percentage of devices (and features) used for the videos will not be selected for this study (due to time constraints, etc) (Do I include the data on using captions...) a combination of columns will be selected for each individual analysis. *

*UNSURE ABOUT THE FOLLOWING STATS AND SUMMARY TEXT - SHOULD IT BE IN*
*For each attribute, compute basic statistics (e.g., compute distribution, average, max, min, standard deviation, variance, mode, skewness, etc.)  Analyze basic statistics and relate the results to their meaning in business terms Decide if the attribute is relevant for the specific data mining goal)* Appendix A shows a basic summary of the types of data and distribution of each variable. 

- There some skewness in the *'total_views'* data, ranging from a minimum of 446 total views to 1659 total views. By analysing the number of viewers for each topic, it potentially show whether certain topics attract more viewers. 

- There are some skewness of the data in columns *'asia_views_percentage'* and *'africa_views_percentage'*, therefore further investigation can potentially show if there are higher drop out rates from certain continents compared to others

- The unit for the values of the video duration is included in the course overview pdf files. The shortest and longest videos ranges from 37 seconds to 426 seconds (~7 min). The average time of videos is 231 seconds (~4 min). The duration of the video could possibly impact the learners' engagement to the course.

- From the 'viewed_percent' columns, it is clear from the summary that there is a downward trend in the number of viewers throughout the duration of the videos. Further analysis may help to identify if there should be a optimum duration of the video materials in order to keep learners engaged.

- ie. why not use data on device - There are 6 columns which refer to the types of devices the learners have used to watched the videoes. There are minimal data for columns *'console_device_percentage'* and *'tv_device_percentage'* and zero values recorded for *'unknown_device_percentage'*, therefore there is insufficient data to draw on how the use of certain devices affect the learners' engagement. In addition, the data does not show which continent prefers watching the videos from certain devices. 


## 2.3 Explore data 

The following initial visualizations will explore the data and help determine the areas to consider for further investigation. As the first set of video data begins from run 3, therefore the run 3 data will be used for the initial exploration.

The two first columns *'step_position'* and *'title'* will be combined to allow quick reference to the order of which the videos appears throughout the course. This new column will be called *'step_title'*

### 2.3.1 Number of viewers for each video topic

Part of the data mining goal is to understand whether there is a trend on learners' engagement, therefore we will look at how the number of viewers have changed throughout the course. 

Figure XX shows the number of viewers for each video based on the topic of the videos and the total of views for each other these videos.

```{r run3_totalview_topic_bar, echo=FALSE, fig.width=10}
run3_totalview_topic_bar_V
```

The bar chart clearly indicated that as the learners progresses throughout the course, there is also a drop of viewers watching the videos too. As the learners are watching from different continents, we will therefore investigate if this trend continues in a similar manner for the learners from different continents and whether certain topics appear to attract learners more. 

### 2.3.2 Total number of viewing and features used through the duration of videos (TO DELETE??)

The scatterplot matrix will be used to visualize any pairs of relationships of all of the different variables within the data. For the plots below the headings, the headings will be the x-axis, and the corresponding rows will be the y-axis.

Figure XX scatterplot matrix attempts to demonstrate the relationships between the length of the videos and the amount of views and features (for example, captions and transcripts) used for each video. It is assumed that the column '*total_transcript_views*' refer to the number of learners reading the transcript version of the videos rather than watching the videos.

```{r run3_duration_features_scatMx, echo=FALSE}
pairs(~video_duration + total_views + total_caption_views + total_transcript_views, data = run3unite,
      main = "Figure XX: Total Views and Features used through Video duration", pch = 19, upper.panel = NULL, cex.main=0.7)
```

There are no obvious relationship observed between the length of the videos and the amount of views and features used for the videos. However as the total number of views increases, so does the number of  captions used and transcripts used, which is to be expected. As there is no obvious relationship in the attributes (??), we will therefore not continue with investigating on the features used in our study.

### 2.3.3 Number of viewers for video duration

Figure XX will demonstrate how the percentage of viewers have changed throughout the duration of the videos. 

```{r run3_duration_pctview_scatMx, echo=FALSE}
pairs(~video_duration + viewed_twentyfive_percent + viewed_fifty_percent +
        viewed_seventyfive_percent + viewed_onehundred_percent, data = run3unite,
      labels = c("Video duration", "25% viewed", "50% viewed", "75% viewed", "100% viewed"),
      main = "Figure XX: Total Percentage viewed used through Video duration", pch = 19, upper.panel = NULL, cex.main=0.7)
```
The key plots of interest are on the left column. The y-axis for the percentage of viewers is decreasing throughout the duration of the videos. Further investigation will look at how large the decrease is (??) and at what point throughout the duration of the videos, do we see the largest drop of viewers. This can show how engaged can learners stay for and if the duration of the videos have an impact of how long the learners stay engaged for.

### 2.3.4 Hypothesis

From the initial exploration, it has shown a number of interesting areas which we would like to further analyse, particularly around the viewing rates from learners of different continents and whether the video topics and length of the videos are a contributing factor to the learners' retention rate. Therefore we will investigate the videos data from the course to answer the following questions:

1. Does the duration of the videos have an impact on the viewing rates across different continents?
2. Does the content of the videos have an impact on the viewing rates across different continents?
3. Is there a correlation between duration of videos and drop out rate of the learners?


## 2.4 Data Quality

The data sets from each run have been compared and it was found that they all contain the same number of rows and columns, and the labels for rows and columns are consistent across all 5 runs. The data sets are mostly complete with no visible missing data. The format, variables and completeness of the data files are all consistent. Therefore the quality of the data is good and the merging of the data files from the other runs could be performed as ease.

Columns *'unknown_device_percentage'* and *'antarctica_views_percentage'* contain values of 0. This can be assumed that the data provider has found no learners using unknown devices and there are no learners from the Antarctica, which is reasonable as according to the *World Population Review*, there is roughly 1000-4000 seasonal residents in the Antarctica (worldpopulationreview.com/continents/antarctica-population). Therefore we can assume that the values of 0 are accurate under the *'antarctica_views_percentage'* column. (should I remove device comment if no analysis on devices??)


# Q1 Does the duration of the videos have an impact on the viewing rates across different continents?
# 3. Data Preparation 

## Run 3 data prep - Dataset 
## 3.1 Select data 

The first hypothesis will investigate on whether the duration of the videos have an impact on the viewing rates across different continents. Therefore it could indicate whether the length of the videos will have a negative or positive impact on the learners' engagement globally. The key columns for this investigation will be *'video_duration', 'total_views', 'europe_views_percentage', 'oceania_views_percentage', 'asia_views_percentage', 'north_america_views_percentage', 'south_america_views_percentage', 'africa_views_percentage' and 'antarctica_views_percentage'* from the *'video_stats'* dataset, which has been assigned to the *'run3unite'* variable.


```{r, echo=FALSE}
head(run3unite[,c(4,5,23:29)], 3)
```

The continent columns currently shows the split percentage of viewers from each continent for each video. This does not show whether there are any impact on the viewing rates across the continents. It only shows what proportion of the viewers for a particular video topic relates to a particular continent.

To see how the viewing rates changes within each continent throughout the course, we would need to transform the values from these columns, so that the total number of viewings from each continent for each video is calculated. Therefore, we will see how the number of viewers within each of the continents changes throughout the course. (???)


## 3.2 Construct data 

In order to calculate the total number of viewings from each continent for each video (i.e. each row), a function (**col_3_summary**) was developed to take the total number of learners from the '*Total Viewed*' column, divided by 100, then multiply by the current percentage viewed value from each continent. An example is the calculation of total views of the first video from African viewers, which is calculated as (*Total Viewed*[row 2]/100) x *africa_views_percentage*[row 2]. The resulting data frame is stored in the *'cache'* folder and the table (number ref) shows the actual number of viewers from each continent.

```{r, echo=FALSE}
as_tibble(output_3[1:3,c(1:7)])
```

The resulting data frame then undergoes another transformation to calculate the percentage for each new continent value. For example, for the Europe views, we will take a new value from the Europe column and divide it by the highest value from within Europe, then multiply by 100 to calculate the percentage of viewers from within the continent for each video. The resulting percentage data frame is stored in the *'cache'*


## 3.3 Clean data

These values were then combined with the original '*video_duration*' column and reorganised so that the columns match the original dataset. Values are rounded to full numbers [HOW MANY DECIMAL POINTS INSTEAD OF FULL NUMBERS, e.g values are given as numbers with no decimal points???]. During the calculation of the percentages, the values from the *'antarctica_views_percentage'* have resulted in *NaN*' values, therefore these are replaced with 0, as the original values within *'antarctica_views_percentage'* were 0 across, therefore we know they are real zero values. 

```{r, echo=FALSE}
as_tibble(continent_3_pct_ro[1:3,c(2:9)])
```

## 3.4 Format data 

The resulting dataframe is then transformed to a 'long' format, i.e., a column for every variable, and a row for every observation (www.datacarpentry.org), to enable the use of ggplot2 to plot the data. This is shown in the next section *'4. Modelling'*.


## All runs data prep - Dataset 
## 3.5 Integrate data 

The same data on the number of viewers from the continents will also be investigated for the data of all of the runs together. The *'video_stats'* data from all runs have been assigned to their corresponding variables, i.e. *'run4unite', 'run5unite', 'run6unite', 'run7unite'*.

The same columns will be used for this investigation and the samepre-processing steps will be undertaken as for run 3, to calculate the actual number of viewers within each continent for each video. Then the percentage viewers within each continent will be calculated too. The additional step will be, prior to calculating the percentage of viewers within each continent, to sum of the total actual viewers for all runs for it to be added together. Therefore the calculated percentages of viewers will be more accurate than taking the average percentage from each runs. 

Finally the dataframe will be transformed to a 'long' format to enable plotting of the data.


# 4. Modelling 
## Run 3 modelling

The following plots is to determine whether the duration of the videos have an impact on the viewing rates across different continents. The new run 3 dataframe was plotted on to a scatter plot.

```{r line_cont3_pct_dur, echo=FALSE, fig.width=11, fig.height=7}
line_cont3_pct_dur_V
```

There appears to be no correlation between the duration of the videos and the number of viewers from each continents. The perecntage of viewers from all continents fluctuate and appears to be independent to the duration of the videos. *The graph does show that there are a higher percentage of viewers from Europe and Oceania for most videos than from Asia and Africa, however this is not the concern of this question????*. Before we can say that there is no correlation, the same plot will be plotted using the new dataframe with the number of viewers from each continent for all runs. 


## All runs modelling

```{r line_cont_all_pct_dur, echo=FALSE, fig.width=11, fig.height=7}
line_cont_all_pct_dur_V
```
As expected, Fig XX for all of the runs supported the outcome of run 3, in which there is no correlation between the duration of the videos and the number of viewers from each continents. *Again the graph does show that there are a higher percentage of viewers from Europe and Oceania for most videos than from Asia and Africa.??? Therefore the duration of the videos appears to not have a direct impact on keeping learners' engaged or keeping the learners to stay throughout the video (??)* We will investigate on whether there are correlations between the topics of the video and the number of viewers from each continents. 


# Question 2. Does the content of the videos have an impact on the viewing rates across different continents? using absolute values
# 5. Data Preparation 

## Run3 Data prep

## 5.1 Select Data
The second hypothesis will investigate on whether the topics and content of the videos have an impact on the viewing rates across different continents. Therefore it could indicate whether the learners from certain continents engages better with certain topics from the course or whether the learners find certain topics less interesting. 

For the same reasons as the data preparation for question 1, the continent columns within the *'video_stats'* dataset currently shows the split percentage of viewers from each continent for each video. However for this investigation, we want to use the actual number of viewers from each continent. This has already been calculated for question 1 and can be re-used for question 2. 

As discussed in *'2.3 Explore data'*, the two first columns *'step_position'* and *'title'* from the *'video_stats'* dataset will be combined to allow quick reference to the order of which the videos appears throughout the course. This new column will be called *'step_title'*. 








will transform the data is the same manner as question 1, and calculate theThis does not show whether there are any impact on the viewing rates across the continents. It only shows what proportion of the viewers for a particular video topic relates to a particular continent.

To see how the viewing rates changes within each continent throughout the course, we would need to transform the values from these columns, so that the total number of viewings from each continent for each video is calculated. Therefore, we will see how the number of viewers within each of the continents changes throughout the course. (???)


## 5.2 Clean data

These values were then combined with the original '*video_duration*' column and reorganised so that the columns match the original dataset. Values are rounded to full numbers [HOW MANY DECIMAL POINTS INSTEAD OF FULL NUMBERS, e.g values are given as numbers with no decimal points???]. During the calculation of the percentages, the values from the *'antarctica_views_percentage'* have resulted in *NaN*' values, therefore these are replaced with 0, as the original values within *'antarctica_views_percentage'* were 0 across, therefore we know they are real zero values. 

## 5.3 Construct Data

In order to calculate the total number of viewings from each continent for each video (i.e. each row), a function (**col_3_summary**) was developed to take the total number of learners from the '*Total Viewed*' column, divided by 100, then multiply by the current percentage viewed value from each continent. An example is the calculation of total views of the first video from African viewers, which is calculated as (*Total Viewed*[row 2]/100) x *africa_views_percentage*[row 2]. The resulting data frame is stored in the *'cache'* folder and the table (number ref) shows the actual number of viewers from each continent.

The resulting data frame then undergoes another transformation to calculate the percentage for each new continent value. For example, for the Europe views, we will take a new value from the Europe column and divide it by the highest value from within Europe, then multiply by 100 to calculate the percentage of viewers from within the continent for each video. The resulting percentage data frame is stored in the *'cache'*

## 5.4 Integrate Data

The same data on the number of viewers from the continents will also be investigated for the data of all of the runs together. 

The same pre-processing steps will be undertaken as for run 3, to calculate the actual number of viewers within each continent for each video. Then the percentage viewers within each continent will be calculated too. The additional step will be, prior to calculating the percentage of viewers within each continent, the sum of the total actual viewers for all runs will be added together. Therefore the calculated percentages of viewers will be more accurate than taking the average percentage from each runs. 

Finally the dataframe will be transformed to a 'long' format to enable plotting of the data.

## 5.5 Format Data

The resulting dataframe is then transformed to a 'long' format, i.e., a column for every variable, and a row for every observation (www.datacarpentry.org), to enable the use of ggplot2 to plot the data. This is shown in the next section *'4. Modelling'*.

## All run data prep



# 6. Modelling 

## Run 3 modelling

### Worldwide views of videos

Figure XX attempts to demonstrates the relationship between the video duration and the number of views from across different continents. 

```{r stack_cont3_AbV_topic_bar, echo=FALSE, fig.width=11, fig.height=7}
stack_cont3_AbV_topic_bar_V
```

There are no obvious correlations to be seen, therefore the data which allows comparison of the views within each continent throughout the course rather than the viewings from each continent within each video will be assessed in the further analysis. This will show the drop out rate from each continent throughout the course, rather than the relative number of viewings from each continent for each video.

In addition, the relative views from each continent appears to be stable. There appears to be some outliers from the far left column of plots. It is unlikely to be related to the duration of the videos because the outliers appear random, therefore further investigation will be made on whether the video topics could be related to these outliers. 

### Actual [DO YOU MEAN ACTUAL, OR ABSOLUTE, OR WOULD IT BE BETTER TO CALL IT SOMETHING LIKE 'Comparison of views per video for each continent'] views from continent

Line graph to show how the percentage viewers have changed throughout the duration of the course, based on how many viewers watched the videos throughout the course.

```{r line_cont3_pct_topic, echo=FALSE, fig.width=11, fig.height=7}
line_cont3_pct_topic_V
```

The graph shows that for certain continents (Europe, North America and Oceania), there appears to be more views, therefore more engagements, on the topics within week 2 block of the course. On the other hand, there were more engagements from the learners of Africa and Asia continent, then a steady drop of viewers throughout the course. South America showed a dramatic uptake of viewers for the 1st topic of week 2, then a reduction of engagement throughout most of the course. 


## All run modelling

### Worldwide views of videos using all runs as bars and absolute values
```{r stack_cont_all_AbV_topic_bar, echo=FALSE, fig.width=11, fig.height=7}
stack_cont_all_AbV_topic_bar_V
```


### Actual views from continent using all runs and percentage

```{r line_cont_all_pct_topic, echo=FALSE, fig.width=11, fig.height=7}
line_cont_all_pct_topic_V
```




# Question 3 Is there a correlation between duration of videos and drop out rate of the learners?
# 7. Data Preparation 

## Run 3 Data prep

## 7.1 Select Data
The first hypothesis will investigate on whether the duration of the videos have an impact on the viewing rates across different continents. Therefore it could indicate whether the length of the videos will have a negative or positive impact on the learners' engagement globally. The key columns for this investigation will be *'video_duration', 'total_views', 'europe_views_percentage', 'oceania_views_percentage', 'asia_views_percentage', 'north_america_views_percentage', 'south_america_views_percentage', 'africa_views_percentage' and 'antarctica_views_percentage'* from the *'video_stats'* dataset.

The continent columns currently shows the split percentage of viewers from each continent for each video. This does not show whether there are any impact on the viewing rates across the continents. It only shows what proportion of the viewers for a particular video topic relates to a particular continent.

To see how the viewing rates changes within each continent throughout the course, we would need to transform the values from these columns, so that the total number of viewings from each continent for each video is calculated. Therefore, we will see how the number of viewers within each of the continents changes throughout the course. (???)
## 7.2 Clean data
These values were then combined with the original '*video_duration*' column and reorganised so that the columns match the original dataset. Values are rounded to full numbers [HOW MANY DECIMAL POINTS INSTEAD OF FULL NUMBERS, e.g values are given as numbers with no decimal points???]. During the calculation of the percentages, the values from the *'antarctica_views_percentage'* have resulted in *NaN*' values, therefore these are replaced with 0, as the original values within *'antarctica_views_percentage'* were 0 across, therefore we know they are real zero values. 

## 7.3 Construct Data
In order to calculate the total number of viewings from each continent for each video (i.e. each row), a function (**col_3_summary**) was developed to take the total number of learners from the '*Total Viewed*' column, divided by 100, then multiply by the current percentage viewed value from each continent. An example is the calculation of total views of the first video from African viewers, which is calculated as (*Total Viewed*[row 2]/100) x *africa_views_percentage*[row 2]. The resulting data frame is stored in the *'cache'* folder and the table (number ref) shows the actual number of viewers from each continent.

The resulting data frame then undergoes another transformation to calculate the percentage for each new continent value. For example, for the Europe views, we will take a new value from the Europe column and divide it by the highest value from within Europe, then multiply by 100 to calculate the percentage of viewers from within the continent for each video. The resulting percentage data frame is stored in the *'cache'*
## 7.4 Integrate Data
The same data on the number of viewers from the continents will also be investigated for the data of all of the runs together. 

The same pre-processing steps will be undertaken as for run 3, to calculate the actual number of viewers within each continent for each video. Then the percentage viewers within each continent will be calculated too. The additional step will be, prior to calculating the percentage of viewers within each continent, the sum of the total actual viewers for all runs will be added together. Therefore the calculated percentages of viewers will be more accurate than taking the average percentage from each runs. 

Finally the dataframe will be transformed to a 'long' format to enable plotting of the data.
## 7.5 Format Data
The resulting dataframe is then transformed to a 'long' format, i.e., a column for every variable, and a row for every observation (www.datacarpentry.org), to enable the use of ggplot2 to plot the data. This is shown in the next section *'4. Modelling'*.

## All run data prep


# 8. Modelling 

## Run 3 Modelling


### Percentage viewed whole duration of videos/ Number of viewers at 100 percent duration of the videos

Figure XX attempts to demonstrates the relationship between the video duration and the number of views throughout the duration of the videos, at 5/10/25/50/75/95/100 percent of each videos.

Through observation of the matrix, there are potentially interesting patterns on the far left column of plots. However the plots are very noisy and will require more data to make further statements, therefore further investigation will be required. The other columns do not show unexpected behaviour.

Figure XX shows the number of viewers who have stayed to view the videos to the end.

```{r run3_allpct_duration_scat, echo=FALSE}
run3_allpct_duration_scat_V
```

There is potentially a pattern observed on the relationship between the video duration and the number of viewers who have stayed for the whole duration of the videos. However the data is too noisy due to the relatively low number of learners for some continents, and all the runs will need to be included to enable more reliable statements to be made. 



## All runs modelling

### Percentage viewed whole duration of videos/ Number of viewers at 100 percent duration of the videos for all runs
```{r run3_7_allpct_duration_scat_V, echo=FALSE}
run3_7_allpct_duration_scat_V
```



# 9. Evaluation
## 9.1 Evaluate results (assesses the degree to which the model meets the business objectives and seeks to determine if there is some business reason why this model is deficient. Another option is to test the model(s) on test applications in the real application, if time and budget constraints permit.assesses other data mining results generated. Data mining results involve models that are necessarily related to the original business objectives and all other findings that are not necessarily related to the original business objectives, but might also unveil additional challenges, information, or hints for future directions.Summarize assessment results in terms of business success criteria, including a final statement regarding whether the project already meets the initial business objectives.After assessing models with respect to business success criteria, the generated models that meet the selected criteria become the approved models.???) think about history of data is it still relevant

Preview of videos allowed on website - does not influence the results.

Given more time, we could do further analysis to gain insights about the learners' from continents which have stayed engaged. 

## 9.2 Review process ( resulting models appear to be satisfactory and to satisfy business needs. It is now appropriate to do a more thorough review of the data mining engagement in order to determine if there is any important factor or task that has somehow been overlooked.Summarize the process review and highlight activities that have been missed and those that should be repeated)

## 9.3 Determine next steps (Depending on the results of the assessment and the process review, the project team decides how to proceed. The team decides whether to finish this project and move on to deployment, initiate further iterations, or set up new data mining projects. This task includes analyses of remaining resources and budget, which may influence the decisions.List the potential further actions, along with the reasons for and against each option.Describe the decision as to how to proceed, along with the rationale.)

# Recommendation (do we need or is it for above?)
May have to do some more analysis to compare with other MOOC courses

Week 2 block is mainly on cybersecurity of payment infrastructure. Could be people are more interested on how to protect digital payments or there might be more people looking to work or already working in the cyber security / financial sector and are keen to learn about these topics. More investigation will need to be made.

# 10. References


# 11. Appendix A - Summery of *'Video_stats'* from run 3

```{r}
summary(run3)
```


