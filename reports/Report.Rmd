---
title: "CSC8631 Report"
author: "Selina So"
date: "11/11/2021"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = normalizePath('..'))
```

```{r ProjectTemplate, include=FALSE}
library(ProjectTemplate)
load.project()
```

# Business Objectives

## Background

Learning Analytics is a study of the "*measurement, collection, analysis and reporting of data about learners and their contexts, for purposes of understanding and optimising learning and the information system in which it occurs*(Shi, 2018)". Learning analytics will provide insights to the factors which influences learners retention. This will therefore enable course designers from educational institutes and MOOC (Massive open online course) providers  to make informed decisions on the design and improvements of their courses. Consequently improving the learning environment for learners and drive more influx of learners enrolling. 

FutureLearn is an MOOC provider, which collaborates with universities globally to offer online courses. Since their launch in 2013, they have attracted over seven million learners across the world (www.futurelearn.com). With the insights driven from Learning Analytics, it will help FutureLearn identify areas which will improve the retention rate and learners' engagement. 

## Business objective
There are many factors which could influence the learners' retention rate. In this study, the focus will be on the video lectures provider by FutureLearn, which are generally used to form part of a course. (why important from a business perspective, what are the problems to solve - financially strained, etc) 

This study will examine the Cyber Security online course, which is divided into three weekly blocks of study. The course consist of a combination of videos, articles, exercises, discussions, quizzes and tests. 

There are a number of steps to complete for each weekly block. The first week block contains 18 steps, and the second and third week blocks contains 21 steps. (Shi, 2018) 

## Inventory of Resources

The CRISP-DM methodology (Cross-Industrie Standard Process for Data Mining) will be applied to achieve the objective of this study (link the CRISP-DM guide). The key phases of focus from the process are Business Understanding, Data Understanding, Data Preparation and Evaluation. 

## Data Mining Goals

For this study, we will investigate the videos data from the course to answer the following questions:

1. Does the duration of the videos have an impact on the viewing rates across different continents?
2. Does the content of the videos have an impact on the viewing rates across different continents?
3. Is there a correlation between duration of videos and drop out rate of the learners?

to insert reference use this notation [@RN22] - this is not working, try later.

# Data Understanding 

The raw data was provided by FutureLearn on their Cyber Security course. There are seven runs of data, each run of data were measured several months apart from each other. There were no descriptions for the data, therefore assumptions will be made as to what the data means. 

As the study is based on the use of video material, therefore the datafiles with the title containing '*video.stats*' would be used. There are only 5 (out of 7) runs, which contains the '*video.stats*' datafiles. Therefore runs 1 and 2 will be eliminated from this study as no data are available. 

Below is the list of column names in the data. 
```{r video-stats 3}
names(run3)
```
There are 13 rows for each datafile, one row corresponding to each video content throughout the course. 

There are 28 columns, and a combination of columns will be selected for particular analysis. 

The dataset is mostly complete with no visible missing data.

The data are mostly continuous data, other than for the first two columns, which shows the step of where the video content is located at and the title of the video content.These two columns will be combined to allow quick reference to the order of which the videos appears throughout the course.  

As the study is interested in the number of views across the continent and the drop out, therefore the columns relating to viewing in HD and different devices will be removed. Other remaining columns will remain as they may contain relevant information for the study. 

The following initial visualizations will help determine the areas to consider for further investigation. 

## Finding pairs of relationships
We considered just the number of learners watching each video for the whole duration of the video, using the earliest video dataset (based on other datasets of run 3, this appears to roughly cover the time period between Jul 2017- Nov 2017).

The scatterplot matrices will be used to visualize any pairs of relationships of all of the different variables within the data.

The plots below the headings, the headings will be the x-axis, and the corresponding rows will be the y-axis.

### Total number of viewing and features used through the duration of videos

Figure XX scatterplot matrix attempts to demonstrate the relationships between the length of the videos and the amount of views and features (for example, downloads/ captions/ transcripts) used for each video. It is assumed that the column '*total_transcript_views*' refer to the number of learners reading the transcript version of the videos rather than watching the videos.

```{r scatMview, echo=FALSE}
pairs(~video_duration + total_views + total_caption_views + total_transcript_views, data = run3unite,
      main = "Figure XX: Total Views and Features used through Video duration", pch = 19, upper.panel = NULL)
```

There are no obvious relationship observed between the length of the videos and the amount of views and features used for the videos. However as the total number of views increases, so does the number of downloads, captions used and transcripts used, which is to be expected. 

### Percentage viewed whole duration of videos

Figure XX attempts to demonstrates the relationship between the video duration and the number of views throughout the duration of the videos, at 5/10/25/50/75/95/100 percent of each videos.

```{r scatMviewPct, echo=FALSE}
pairs(~video_duration + viewed_five_percent + viewed_ten_percent + viewed_twentyfive_percent + viewed_fifty_percent + 
        viewed_seventyfive_percent+ viewed_ninetyfive_percent + viewed_onehundred_percent, 
      data = run3unite,
      main = "Figure XX: Total views throughout percentage phase of the Videos", pch = 19, upper.panel = NULL)
```

Through observation of the matrix, there are potentially interesting patterns on the far left column of plots. However the plots are very noisy and will require more data to make further statements, therefore further investigation will be required. The other columns do not show unexpected behaviour. 

### Worldwide views of videos

Figure XX attempts to demonstrates the relationship between the video duration and the number of views from across different continents. 

```{r scatMviewglobal, echo=FALSE}
pairs(~video_duration + europe_views_percentage + oceania_views_percentage + asia_views_percentage + north_america_views_percentage + 
      south_america_views_percentage + africa_views_percentage+ antarctica_views_percentage, 
      data = run3unite,
      main = "Figure XX: Total Continent views through Video duration", pch = 19, upper.panel = NULL)
```

There are no obvious behaviours to be seen, therefore the data will be transformed to compare the views within each continent throughout the course rather than the viewings from each continent within each video.Therefore this could show the drop out rate from each continent throughout the course.

In addition, the relative views from each continent appears to be stable. There appears to be some outliers from the far left column of plots. It is unlikely related to the duration of the videos because the outliers appear random, therefore further investigation will be made on whether the video topics could be related to these outliers. 

## Number of viewers at 100 percent duration of the videos

Figure XX shows the number of viewers who have stayed to view the videos to the end.

```{r scatdurationviewpct, echo=FALSE}
ggplot(data = run3unite, aes(x=video_duration, y=viewed_onehundred_percent)) + 
  geom_point()+
  geom_hline(yintercept = 100)+
  ggtitle("Figure XX: Number of viewers watched 100% of videos")+
  theme_classic()+
  theme(plot.title = element_text(size=12, face="bold"))+
  scale_y_continuous(name = "Number of viewers (100% of video duration")+
  scale_x_continuous(name = "Video Duration")

```

There is potentially a pattern observed on the relationship between the video duration and the number of viewers who have stayed for the whole duration of the videos. However all the runs will need to be included to enable any statements to be made. 


# Data Preparation

the 'step_position' and the 'title' columns will be combined to allow quick reference to the order of the videos, which it appears throughout the course. This will also result in the 'step_position' data type being changed from numerical to character.  

The data pre-processing codes are located in the 'munge' folder.

## Actual views from continent

The actual viewings from each continent for each video is calculated. This is by taking the assumed total learners (by taking the highest figure from '*Total Viewed*' column), divided by 100, then multiply by the current percentage viewed value from each continent. This is the reverse percentage calculation for each continent (?)

```{r}
head(output, 3)
```

The percentage viewed from each continent, throughout the course is calculated.Then combined with the original '*step_title*' and '*video_duration*' columns. Values are round to full numbers and '*NaN*' are replace with 0.

```{r}
head(continent_pct_ro, 3)
```

Line graph to show how the percentage viewers have changed throughout the duration of the course, based on how many viewers watched the videos throughout the course.

```{r pctcontline, echo=FALSE, fig.width=11, fig.height=7}
ggplot(dfcont, aes(x=step_title, y=Value, group=Continent, color=Continent))+
  geom_line(size=1)+
  geom_point(size=2)+
  ggtitle("Figure XX: Percentage of viewers for Video Topics")+
  theme_bw()+
  ylab("Percentage Viewers")+
  theme(
    plot.title = element_text(size=12, face="bold"),
    axis.text.x = element_text(angle = 45, hjust=1, size=8),
    legend.text = element_text(size=8))+
  scale_color_hue(labels=c("Africa", "Antarctica", "Asia", "Europe", "N. America", "Oceania", "S. America"))+
  scale_y_continuous(name = "Percentage Viewed per continent")+
  scale_x_discrete(name = "Video Topics")
```

The graph shows that for certain continents (Europe, North America and Oceania), there appears to be more views, therefore more engagements, on the topics within week 2 block of the course. On the other hand, there were more engagements from the learners of Africa and Asia continent, then a steady drop of viewers throughout the course. South America showed a dramatic uptake of viewers for the 1st topic of week 2, then a reduction of engagement throughout most of the course. 

# Evaluation

## Number of viewers for each video topic

Figure XX shows the number of viewers for each video based on the topic of the videos.

```{r run3totalview, echo=FALSE, fig.width=10}
ggplot(data = run3unite, aes(x=step_title, y=total_views))+
  geom_bar(stat = 'identity', fill="#0099f9")+
  geom_text(aes(label=total_views), hjust=-0.2, size=3.5)+
  labs(title="Figure XX: Total number of Viewed per Video Topic")+
  theme(plot.title = element_text(size=12,face = "bold"))+
  theme_classic()+
  coord_flip()+
  scale_y_continuous(name = "Total Views")+
  scale_x_discrete(name = "Video Topics", labels=function(x) str_wrap(x, width = 32), limits=rev)
```

# Recommendation
May have to do some more analysis to compare with other MOOC courses

Week 2 block is mainly on cybersecurity of payment infrastructure. Could be people are more interested on how to protect digital payments or there might be more people looking to work or already working in the cyber security / financial sector and are keen to learn about these topics. More investigation will need to be made.

# References
